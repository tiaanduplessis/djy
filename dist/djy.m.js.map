{"version":3,"file":"djy.m.js","sources":["../src/utils.js","../src/index.js"],"sourcesContent":["\nexport const isFunction = (func) => Object.prototype.toString.apply(func).slice(8, -1) === 'Function'\n\nexport const hasSelector = function (element, selector) {\n  const matches = element.matches || element.webkitMatchesSelector || element.mozMatchesSelector || element.msMatchesSelector || element.oMatchesSelector\n  return matches.call(element, selector)\n}\n\nexport const onReady = (func) => {\n  if (document.readyState !== 'loading') {\n    func()\n  } else {\n    document.addEventListener('DOMContentLoaded', func)\n  }\n}\n","/* global getComputedStyle */\n\nimport { isFunction, hasSelector, onReady } from './utils'\n\nfunction Djy (selector) {\n  if (!(this instanceof Djy)) {\n    return new Djy(selector)\n  }\n\n  if (isFunction(selector)) {\n    onReady(selector)\n  } else {\n    this.elements = Array.from(document.querySelectorAll(selector))\n  }\n}\n\nDjy.fn = Djy.prototype = {\n  each (cb) {\n    this.elements.forEach(cb)\n    return this\n  },\n\n  attr (name, val) {\n    if (val) {\n      this.each(element => element.setAttribute(name, val))\n    } else if (!val) {\n      return this.elements.length === 1\n        ? this.elements[0].getAttribute(name)\n        : this.elements.map(element => element.getAttribute(name))\n    }\n    return this\n  },\n\n  val (val) {\n    if (val) {\n      this.each(function (element) {\n        element.value = val\n      })\n    } else {\n      return this.elements.length === 1\n        ? this.elements[0].value\n        : this.elements.map(element => element.value)\n    }\n\n    return this\n  },\n\n  addClass (className) {\n    this.each(element => element.classList.add(className))\n    return this\n  },\n\n  removeClass (className) {\n    this.each(function (element) {\n      element.classList.remove(className)\n    })\n\n    return this\n  },\n\n  hasClass (className) {\n    let classExists = false\n    this.each(element => {\n      classExists = element.classList.contains(className)\n    })\n    return classExists\n  },\n\n  toggleClass (className) {\n    this.each(function (element) {\n      element.classList.toggle(className)\n    })\n    return this\n  },\n\n  clone () {\n    const newElements = []\n    this.each(function (element) {\n      newElements.push(element.cloneNode(true))\n    })\n\n    const djy = new Djy()\n    djy.elements = newElements\n    djy.length = newElements.length\n    return djy\n  },\n\n  html: function (html) {\n    if (html) {\n      this.each(function (element) {\n        element.innerHTML = html\n      })\n    } else {\n      return this.elements.length === 1\n        ? this.elements[0].innerHTML || ''\n        : this.elements.map(element => element.innerHTML || '')\n    }\n\n    return this\n  },\n  css (rule, attr) {\n    if (rule) {\n      this.each(element => {\n        element.style[rule] = attr\n      })\n    } else if (!attr) {\n      return this.elements.length === 1\n        ? getComputedStyle(this.elements[0])[rule]\n        : this.elements.map(element => getComputedStyle(element)[rule])\n    }\n    return this\n  },\n\n  text (content) {\n    if (!content) {\n      return this.elements.length === 1\n        ? this.elements[0].textContent\n        : this.elements.map(element => element.textContent)\n    }\n    return this.each(v => {\n      v.textContent = content\n    })\n  },\n\n  children (selector) {\n    const elements = []\n    this.each(element => {\n      elements.push(element.children)\n    })\n\n    return !selector ? elements : elements.filter(element => hasSelector(element, selector))\n  },\n\n  on (event, cb) {\n    return this.each(element => {\n      element.addEventListener(event, cb)\n    })\n  },\n\n  off (event, cb) {\n    return this.each(element => {\n      element.removeEventListener(event, cb)\n    })\n  },\n\n  trigger (eventName, data) {\n    const event = document.createEvent('HTMLEvents')\n    event.data = data\n    event.initEvent(eventName, true, false)\n    return this.each(element => element.dispatchEvent(event))\n  }\n}\n\nexport default Djy\n"],"names":["const","isFunction","func","Object","prototype","toString","apply","slice","onReady","document","readyState","addEventListener","Djy","selector","this","elements","Array","from","querySelectorAll","fn","each","cb","forEach","attr","name","val","element","setAttribute","length","getAttribute","map","value","addClass","className","classList","add","removeClass","remove","hasClass","let","classExists","contains","toggleClass","toggle","clone","newElements","push","cloneNode","djy","html","innerHTML","css","rule","style","getComputedStyle","text","content","v","textContent","children","filter","matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","call","hasSelector","on","event","off","removeEventListener","trigger","eventName","data","createEvent","initEvent","dispatchEvent"],"mappings":"AACOA,IAAMC,WAAcC,SAAgE,aAAvDC,OAAOC,UAAUC,SAASC,MAAMJ,GAAMK,MAAM,GAAI,IAOvEC,WAAWN,GACM,YAAxBO,SAASC,WACXR,IAEAO,SAASE,iBAAiB,mBAAoBT,ICRlD,SAASU,EAAKC,GACZ,KAAMC,gBAAgBF,GACpB,OAAO,IAAIA,EAAIC,GAGbZ,EAAWY,GACbL,EAAQK,GAERC,KAAKC,SAAWC,MAAMC,KAAKR,SAASS,iBAAiBL,IAIzDD,EAAIO,GAAKP,EAAIR,WACXgB,cAAMC,GAEJ,OADAP,KAAKC,SAASO,QAAQD,GACfP,MAGTS,cAAMC,EAAMC,GACV,GAAIA,EACFX,KAAKM,cAAKM,UAAWA,EAAQC,aAAaH,EAAMC,UAC3C,IAAKA,EACV,OAAgC,IAAzBX,KAAKC,SAASa,OACjBd,KAAKC,SAAS,GAAGc,aAAaL,GAC9BV,KAAKC,SAASe,aAAIJ,UAAWA,EAAQG,aAAaL,KAExD,OAAOV,MAGTW,aAAKA,GACH,OAAIA,GACFX,KAAKM,KAAK,SAAUM,GAClBA,EAAQK,MAAQN,IAQbX,MAL2B,IAAzBA,KAAKC,SAASa,OACjBd,KAAKC,SAAS,GAAGgB,MACjBjB,KAAKC,SAASe,aAAIJ,UAAWA,EAAQK,SAM7CC,kBAAUC,GAER,OADAnB,KAAKM,cAAKM,UAAWA,EAAQQ,UAAUC,IAAIF,KACpCnB,MAGTsB,qBAAaH,GAKX,OAJAnB,KAAKM,KAAK,SAAUM,GAClBA,EAAQQ,UAAUG,OAAOJ,KAGpBnB,MAGTwB,kBAAUL,GACRM,IAAIC,GAAc,EAIlB,OAHA1B,KAAKM,cAAKM,GACRc,EAAcd,EAAQQ,UAAUO,SAASR,KAEpCO,GAGTE,qBAAaT,GAIX,OAHAnB,KAAKM,KAAK,SAAUM,GAClBA,EAAQQ,UAAUS,OAAOV,KAEpBnB,MAGT8B,iBACE5C,IAAM6C,KACN/B,KAAKM,KAAK,SAAUM,GAClBmB,EAAYC,KAAKpB,EAAQqB,WAAU,MAGrC/C,IAAMgD,EAAM,IAAIpC,EAGhB,OAFAoC,EAAIjC,SAAW8B,EACfG,EAAIpB,OAASiB,EAAYjB,OAClBoB,GAGTC,KAAM,SAAUA,GACd,OAAIA,GACFnC,KAAKM,KAAK,SAAUM,GAClBA,EAAQwB,UAAYD,IAQjBnC,MAL2B,IAAzBA,KAAKC,SAASa,OACjBd,KAAKC,SAAS,GAAGmC,WAAa,GAC9BpC,KAAKC,SAASe,aAAIJ,UAAWA,EAAQwB,WAAa,MAK1DC,aAAKC,EAAM7B,GACT,GAAI6B,EACFtC,KAAKM,cAAKM,GACRA,EAAQ2B,MAAMD,GAAQ7B,SAEnB,IAAKA,EACV,OAAgC,IAAzBT,KAAKC,SAASa,OACjB0B,iBAAiBxC,KAAKC,SAAS,IAAIqC,GACnCtC,KAAKC,SAASe,aAAIJ,UAAW4B,iBAAiB5B,GAAS0B,KAE7D,OAAOtC,MAGTyC,cAAMC,GACJ,OAAKA,EAKE1C,KAAKM,cAAKqC,GACfA,EAAEC,YAAcF,IALgB,IAAzB1C,KAAKC,SAASa,OACjBd,KAAKC,SAAS,GAAG2C,YACjB5C,KAAKC,SAASe,aAAIJ,UAAWA,EAAQgC,eAO7CC,kBAAU9C,GACRb,IAAMe,KAKN,OAJAD,KAAKM,cAAKM,GACRX,EAAS+B,KAAKpB,EAAQiC,YAGhB9C,EAAsBE,EAAS6C,gBAAOlC,UD/HvB,SAAUA,EAASb,GAE5C,OADgBa,EAAQmC,SAAWnC,EAAQoC,uBAAyBpC,EAAQqC,oBAAsBrC,EAAQsC,mBAAqBtC,EAAQuC,kBACxHC,KAAKxC,EAASb,GC6H8BsD,CAAYzC,EAASb,KAA3DE,GAGrBqD,YAAIC,EAAOhD,GACT,OAAOP,KAAKM,cAAKM,GACfA,EAAQf,iBAAiB0D,EAAOhD,MAIpCiD,aAAKD,EAAOhD,GACV,OAAOP,KAAKM,cAAKM,GACfA,EAAQ6C,oBAAoBF,EAAOhD,MAIvCmD,iBAASC,EAAWC,GAClB1E,IAAMqE,EAAQ5D,SAASkE,YAAY,cAGnC,OAFAN,EAAMK,KAAOA,EACbL,EAAMO,UAAUH,GAAW,GAAM,GAC1B3D,KAAKM,cAAKM,UAAWA,EAAQmD,cAAcR"}